<button 
  class="card"
  [class.playable]="isPlayable && !showBack && !disabled"
  [class.selected]="isSelected"
  [class.card-back]="showBack"
  [class.image-loaded]="imageLoaded"
  [class.disabled]="disabled || (!isPlayable && !showBack)"
  [disabled]="disabled || !isPlayable || showBack"
  [attr.aria-label]="getCardDescription()"
  [attr.aria-pressed]="isSelected"
  [style.background-image]="getBackgroundImageStyle()"
  (click)="onClick($event)"
  (keydown.enter)="onClick($event)"
  (keydown.space)="onClick($event)">
  
  <!-- Hidden img element to detect loading errors -->
  <img 
    [src]="getImageUrl()"
    (load)="onImageLoad()"
    (error)="onImageError($event)"
    class="hidden-img"
    style="display: none;">
  
  <!-- Fallback content when image fails to load or is loading -->
  <div class="card-fallback" *ngIf="!showBack && (!imageLoaded || imageError)">
    <div class="card-value">{{ card.displayValue }}</div>
<div class="card-suit">{{ getSuitDisplayName() }}</div>  </div>
  
  <!-- Back card indicator -->
  <div class="card-back-content" *ngIf="showBack && (!imageLoaded || imageError)">
    <div class="back-pattern">?</div>
  </div>
</button>
